import{a as Q,i as R,s as U,f as p,c as h,x as z,E as C,m as w,l as k,y as v,b,z as E,t as m,o as I,d,A as X,a4 as Y,H as N,I as Z,p as F,q as M,r as L,v as V,F as y,W as q}from"../lite.js";import{u as x}from"./utils-BsGrhMNe.js";import{B as ee}from"./BlockLabel-B0HN-MOU.js";import{E as te}from"./Empty-C76eC2zW.js";import{S as ne}from"./ShareButton-Bn_rnIUK.js";import{D as le}from"./Download-CgLP-Xl6.js";import{I as P,M as se,a as oe}from"./Minimize-SPtAc8b5.js";import{I as re}from"./IconButtonWrapper-Ck50MZwX.js";import{g as ae}from"./utils-Gtzs_Zla.js";import{I as ie}from"./Image-CU9FxpGN.js";import{D as ue}from"./DownloadLink-B8hI46-W.js";/* empty css                                                   */import"./Community-_qL8Iyvr.js";import"./file-url-Co2ROWca.js";function fe(o){let e,l,t,s,r,i,f,u,_;return l=new re({props:{$$slots:{default:[me]},$$scope:{ctx:o}}}),i=new ie({props:{src:o[0].url,alt:"",loading:"lazy"}}),i.$on("load",o[15]),{c(){e=F("div"),h(l.$$.fragment),t=z(),s=F("button"),r=F("div"),h(i.$$.fragment),M(r,"class","image-frame svelte-1kpcxni"),L(r,"selectable",o[4]),M(s,"class","svelte-1kpcxni"),M(e,"class","image-container svelte-1kpcxni")},m(n,a){k(n,e,a),w(l,e,null),V(e,t),V(e,s),V(s,r),w(i,r,null),o[16](e),f=!0,u||(_=y(s,"click",o[10]),u=!0)},p(n,a){const $={};a&262633&&($.$$scope={dirty:a,ctx:n}),l.$set($);const g={};a&1&&(g.src=n[0].url),i.$set(g),(!f||a&16)&&L(r,"selectable",n[4])},i(n){f||(m(l.$$.fragment,n),m(i.$$.fragment,n),f=!0)},o(n){b(l.$$.fragment,n),b(i.$$.fragment,n),f=!1},d(n){n&&I(e),d(l),d(i),o[16](null),u=!1,_()}}}function ce(o){let e,l;return e=new te({props:{unpadded_box:!0,size:"large",$$slots:{default:[be]},$$scope:{ctx:o}}}),{c(){h(e.$$.fragment)},m(t,s){w(e,t,s),l=!0},p(t,s){const r={};s&262144&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){d(e,t)}}}function S(o){let e,l;return e=new q({props:{Icon:se,label:o[8]?"Exit full screen":"View in full screen"}}),e.$on("click",o[11]),{c(){h(e.$$.fragment)},m(t,s){w(e,t,s),l=!0},p(t,s){const r={};s&256&&(r.label=t[8]?"Exit full screen":"View in full screen"),e.$set(r)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){d(e,t)}}}function H(o){let e,l;return e=new q({props:{Icon:oe,label:o[8]?"Exit full screen":"View in full screen"}}),e.$on("click",o[11]),{c(){h(e.$$.fragment)},m(t,s){w(e,t,s),l=!0},p(t,s){const r={};s&256&&(r.label=t[8]?"Exit full screen":"View in full screen"),e.$set(r)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){d(e,t)}}}function W(o){let e,l;return e=new ue({props:{href:o[0].url,download:o[0].orig_name||"image",$$slots:{default:[_e]},$$scope:{ctx:o}}}),{c(){h(e.$$.fragment)},m(t,s){w(e,t,s),l=!0},p(t,s){const r={};s&1&&(r.href=t[0].url),s&1&&(r.download=t[0].orig_name||"image"),s&262208&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){d(e,t)}}}function _e(o){let e,l;return e=new q({props:{Icon:le,label:o[6]("common.download")}}),{c(){h(e.$$.fragment)},m(t,s){w(e,t,s),l=!0},p(t,s){const r={};s&64&&(r.label=t[6]("common.download")),e.$set(r)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){d(e,t)}}}function A(o){let e,l;return e=new ne({props:{i18n:o[6],formatter:o[12],value:o[0]}}),e.$on("share",o[13]),e.$on("error",o[14]),{c(){h(e.$$.fragment)},m(t,s){w(e,t,s),l=!0},p(t,s){const r={};s&64&&(r.i18n=t[6]),s&1&&(r.value=t[0]),e.$set(r)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){d(e,t)}}}function me(o){let e,l,t,s,r,i=!o[8]&&o[7]&&S(o),f=o[8]&&o[7]&&H(o),u=o[3]&&W(o),_=o[5]&&A(o);return{c(){i&&i.c(),e=z(),f&&f.c(),l=z(),u&&u.c(),t=z(),_&&_.c(),s=C()},m(n,a){i&&i.m(n,a),k(n,e,a),f&&f.m(n,a),k(n,l,a),u&&u.m(n,a),k(n,t,a),_&&_.m(n,a),k(n,s,a),r=!0},p(n,a){!n[8]&&n[7]?i?(i.p(n,a),a&384&&m(i,1)):(i=S(n),i.c(),m(i,1),i.m(e.parentNode,e)):i&&(v(),b(i,1,1,()=>{i=null}),E()),n[8]&&n[7]?f?(f.p(n,a),a&384&&m(f,1)):(f=H(n),f.c(),m(f,1),f.m(l.parentNode,l)):f&&(v(),b(f,1,1,()=>{f=null}),E()),n[3]?u?(u.p(n,a),a&8&&m(u,1)):(u=W(n),u.c(),m(u,1),u.m(t.parentNode,t)):u&&(v(),b(u,1,1,()=>{u=null}),E()),n[5]?_?(_.p(n,a),a&32&&m(_,1)):(_=A(n),_.c(),m(_,1),_.m(s.parentNode,s)):_&&(v(),b(_,1,1,()=>{_=null}),E())},i(n){r||(m(i),m(f),m(u),m(_),r=!0)},o(n){b(i),b(f),b(u),b(_),r=!1},d(n){n&&(I(e),I(l),I(t),I(s)),i&&i.d(n),f&&f.d(n),u&&u.d(n),_&&_.d(n)}}}function be(o){let e,l;return e=new P({}),{c(){h(e.$$.fragment)},m(t,s){w(e,t,s),l=!0},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){d(e,t)}}}function ge(o){let e,l,t,s,r,i;e=new ee({props:{show_label:o[2],Icon:P,label:o[2]?o[1]||o[6]("image.image"):""}});const f=[ce,fe],u=[];function _(n,a){return n[0]===null||!n[0].url?0:1}return t=_(o),s=u[t]=f[t](o),{c(){h(e.$$.fragment),l=z(),s.c(),r=C()},m(n,a){w(e,n,a),k(n,l,a),u[t].m(n,a),k(n,r,a),i=!0},p(n,[a]){const $={};a&4&&($.show_label=n[2]),a&70&&($.label=n[2]?n[1]||n[6]("image.image"):""),e.$set($);let g=t;t=_(n),t===g?u[t].p(n,a):(v(),b(u[g],1,1,()=>{u[g]=null}),E(),s=u[t],s?s.p(n,a):(s=u[t]=f[t](n),s.c()),m(s,1),s.m(r.parentNode,r))},i(n){i||(m(e.$$.fragment,n),m(s),i=!0)},o(n){b(e.$$.fragment,n),b(s),i=!1},d(n){n&&(I(l),I(r)),d(e,n),u[t].d(n)}}}function he(o,e,l){let{value:t}=e,{label:s=void 0}=e,{show_label:r}=e,{show_download_button:i=!0}=e,{selectable:f=!1}=e,{show_share_button:u=!1}=e,{i18n:_}=e,{show_fullscreen_button:n=!0}=e;const a=X(),$=c=>{let D=ae(c);D&&a("select",{index:D,value:null})};let g=!1,B;Y(()=>{document.addEventListener("fullscreenchange",()=>{l(8,g=!!document.fullscreenElement)})});const T=async()=>{g?(await document.exitFullscreen(),l(8,g=!g)):await B.requestFullscreen()},j=async c=>c?`<img src="${await x(c)}" />`:"";function G(c){N.call(this,o,c)}function J(c){N.call(this,o,c)}function K(c){N.call(this,o,c)}function O(c){Z[c?"unshift":"push"](()=>{B=c,l(9,B)})}return o.$$set=c=>{"value"in c&&l(0,t=c.value),"label"in c&&l(1,s=c.label),"show_label"in c&&l(2,r=c.show_label),"show_download_button"in c&&l(3,i=c.show_download_button),"selectable"in c&&l(4,f=c.selectable),"show_share_button"in c&&l(5,u=c.show_share_button),"i18n"in c&&l(6,_=c.i18n),"show_fullscreen_button"in c&&l(7,n=c.show_fullscreen_button)},[t,s,r,i,f,u,_,n,g,B,$,T,j,G,J,K,O]}class Ve extends Q{constructor(e){super(),R(this,e,he,ge,U,{value:0,label:1,show_label:2,show_download_button:3,selectable:4,show_share_button:5,i18n:6,show_fullscreen_button:7})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),p()}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),p()}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),p()}get show_download_button(){return this.$$.ctx[3]}set show_download_button(e){this.$$set({show_download_button:e}),p()}get selectable(){return this.$$.ctx[4]}set selectable(e){this.$$set({selectable:e}),p()}get show_share_button(){return this.$$.ctx[5]}set show_share_button(e){this.$$set({show_share_button:e}),p()}get i18n(){return this.$$.ctx[6]}set i18n(e){this.$$set({i18n:e}),p()}get show_fullscreen_button(){return this.$$.ctx[7]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),p()}}export{Ve as default};
//# sourceMappingURL=ImagePreview-LqkkaB2h.js.map
