import"./IconButtonWrapper.svelte_svelte_type_style_lang-DAP8_Zsr.js";import"./MarkdownCode.svelte_svelte_type_style_lang-DGVaFc0z.js";import{B as xe}from"./BlockLabel-CnzaitFN.js";import{I as le}from"./IconButton-DtUbToT-.js";import{E as et}from"./Empty-CMV1fpYf.js";import{S as tt}from"./ShareButton-BhT5Qc-O.js";import{C as lt}from"./Clear-By3xiIwg.js";import{D as nt}from"./Download-DVtk-Jv3.js";import{I as Te,a as oe,M as _e}from"./Minimize-Biy58KWs.js";import{P as De}from"./Play-B0Q0U1Qz.js";import{I as it}from"./IconButtonWrapper-fdTarNL8.js";import"./index-C3YFQtYK.js";/* empty css                                             */import{M as rt}from"./ModifyUpload-BtwTDlV4.js";import{I as fe}from"./Image-BRVH1yXn.js";/* empty css                                                   *//* empty css                                                   */import{V as se}from"./Video-DiLYgEjl.js";import{u as ot}from"./utils-BsGrhMNe.js";import"./prism-python-CPCQ_rdc.js";import"./Community-Dw1micSV.js";import"./svelte/svelte.js";import"./Undo-DCjBnnSO.js";import"./DownloadLink-IzUam-rM.js";import"./context-TgWPFwN2.js";import"./file-url-DgijyRSD.js";import"./hls-CnVhpNcu.js";var me=Object.prototype.hasOwnProperty;function he(l,e,n){for(n of l.keys())if(Q(n,e))return n}function Q(l,e){var n,t,i;if(l===e)return!0;if(l&&e&&(n=l.constructor)===e.constructor){if(n===Date)return l.getTime()===e.getTime();if(n===RegExp)return l.toString()===e.toString();if(n===Array){if((t=l.length)===e.length)for(;t--&&Q(l[t],e[t]););return t===-1}if(n===Set){if(l.size!==e.size)return!1;for(t of l)if(i=t,i&&typeof i=="object"&&(i=he(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(l.size!==e.size)return!1;for(t of l)if(i=t[0],i&&typeof i=="object"&&(i=he(e,i),!i)||!Q(t[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)l=new Uint8Array(l),e=new Uint8Array(e);else if(n===DataView){if((t=l.byteLength)===e.byteLength)for(;t--&&l.getInt8(t)===e.getInt8(t););return t===-1}if(ArrayBuffer.isView(l)){if((t=l.byteLength)===e.byteLength)for(;t--&&l[t]===e[t];);return t===-1}if(!n||typeof l=="object"){t=0;for(n in l)if(me.call(l,n)&&++t&&!me.call(e,n)||!(n in e)||!Q(l[n],e[n]))return!1;return Object.keys(e).length===t}}return l!==l&&e!==e}async function ft(l){return l?`<div style="display: flex; flex-wrap: wrap; gap: 16px">${(await Promise.all(l.map(async([n,t])=>n===null||!n.url?"":await ot(n.url)))).map(n=>`<img src="${n}" style="height: 400px" />`).join("")}</div>`:""}const{SvelteComponent:st,add_render_callback:ut,append:M,attr:B,binding_callbacks:re,bubble:ge,check_outros:N,create_component:I,destroy_component:z,destroy_each:Re,detach:T,element:C,empty:Ae,ensure_array_like:te,flush:L,globals:at,group_outros:U,init:ct,insert:D,is_function:_t,listen:Y,mount_component:E,noop:Me,run_all:mt,safe_not_equal:ht,set_data:Ne,set_style:O,space:R,text:Ue,toggle_class:A,transition_in:m,transition_out:b}=window.__gradio__svelte__internal,{window:Ce}=at,{createEventDispatcher:gt,onMount:pt}=window.__gradio__svelte__internal,{tick:bt}=window.__gradio__svelte__internal;function pe(l,e,n){const t=l.slice();return t[47]=e[n],t[49]=n,t}function be(l,e,n){const t=l.slice();return t[50]=e[n],t[51]=e,t[49]=n,t}function de(l){let e,n;return e=new xe({props:{show_label:l[2],Icon:Te,label:l[3]||"Gallery"}}),{c(){I(e.$$.fragment)},m(t,i){E(e,t,i),n=!0},p(t,i){const r={};i[0]&4&&(r.show_label=t[2]),i[0]&8&&(r.label=t[3]||"Gallery"),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function dt(l){let e,n,t,i,r,_,a=l[21]&&l[7]&&we(l),f=l[12]&&l[1]===null&&Ee(l),p=te(l[15]),c=[];for(let o=0;o<p.length;o+=1)c[o]=Be(pe(l,p,o));const g=o=>b(c[o],1,1,()=>{c[o]=null});return{c(){e=C("div"),a&&a.c(),n=R(),t=C("div"),f&&f.c(),i=R(),r=C("div");for(let o=0;o<c.length;o+=1)c[o].c();B(r,"class","grid-container svelte-842rpi"),O(r,"--grid-cols",l[4]),O(r,"--grid-rows",l[5]),O(r,"--object-fit",l[8]),O(r,"height",l[6]),A(r,"pt-6",l[2]),B(t,"class","grid-wrap svelte-842rpi"),A(t,"minimal",l[13]==="minimal"),A(t,"fixed-height",l[13]!=="minimal"&&(!l[6]||l[6]=="auto")),A(t,"hidden",l[16]),B(e,"class","gallery-container")},m(o,s){D(o,e,s),a&&a.m(e,null),M(e,n),M(e,t),f&&f.m(t,null),M(t,i),M(t,r);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(r,null);l[42](e),_=!0},p(o,s){if(o[21]&&o[7]?a?(a.p(o,s),s[0]&2097280&&m(a,1)):(a=we(o),a.c(),m(a,1),a.m(e,n)):a&&(U(),b(a,1,1,()=>{a=null}),N()),o[12]&&o[1]===null?f?(f.p(o,s),s[0]&4098&&m(f,1)):(f=Ee(o),f.c(),m(f,1),f.m(t,i)):f&&(U(),b(f,1,1,()=>{f=null}),N()),s[0]&32770){p=te(o[15]);let d;for(d=0;d<p.length;d+=1){const y=pe(o,p,d);c[d]?(c[d].p(y,s),m(c[d],1)):(c[d]=Be(y),c[d].c(),m(c[d],1),c[d].m(r,null))}for(U(),d=p.length;d<c.length;d+=1)g(d);N()}(!_||s[0]&16)&&O(r,"--grid-cols",o[4]),(!_||s[0]&32)&&O(r,"--grid-rows",o[5]),(!_||s[0]&256)&&O(r,"--object-fit",o[8]),(!_||s[0]&64)&&O(r,"height",o[6]),(!_||s[0]&4)&&A(r,"pt-6",o[2]),(!_||s[0]&8192)&&A(t,"minimal",o[13]==="minimal"),(!_||s[0]&8256)&&A(t,"fixed-height",o[13]!=="minimal"&&(!o[6]||o[6]=="auto")),(!_||s[0]&65536)&&A(t,"hidden",o[16])},i(o){if(!_){m(a),m(f);for(let s=0;s<p.length;s+=1)m(c[s]);_=!0}},o(o){b(a),b(f),c=c.filter(Boolean);for(let s=0;s<c.length;s+=1)b(c[s]);_=!1},d(o){o&&T(e),a&&a.d(),f&&f.d(),Re(c,o),l[42](null)}}}function wt(l){let e,n;return e=new et({props:{unpadded_box:!0,size:"large",$$slots:{default:[Et]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},m(t,i){E(e,t,i),n=!0},p(t,i){const r={};i[1]&2097152&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function we(l){let e,n,t,i,r,_,a,f,p,c,g,o;n=new it({props:{$$slots:{default:[kt]},$$scope:{ctx:l}}});const s=[$t,vt],d=[];function y(k,v){return"image"in k[21]?0:1}r=y(l),_=d[r]=s[r](l);let w=l[21]?.caption&&Ie(l),$=te(l[15]),h=[];for(let k=0;k<$.length;k+=1)h[k]=ze(be(l,$,k));const Z=k=>b(h[k],1,1,()=>{h[k]=null});return{c(){e=C("button"),I(n.$$.fragment),t=R(),i=C("button"),_.c(),a=R(),w&&w.c(),f=R(),p=C("div");for(let k=0;k<h.length;k+=1)h[k].c();B(i,"class","media-button svelte-842rpi"),O(i,"height","calc(100% - "+(l[21].caption?"80px":"60px")+")"),B(i,"aria-label","detailed view of selected image"),B(p,"class","thumbnails scroll-hide svelte-842rpi"),B(p,"data-testid","container_el"),B(e,"class","preview svelte-842rpi"),A(e,"minimal",l[13]==="minimal")},m(k,v){D(k,e,v),E(n,e,null),M(e,t),M(e,i),d[r].m(i,null),M(e,a),w&&w.m(e,null),M(e,f),M(e,p);for(let S=0;S<h.length;S+=1)h[S]&&h[S].m(p,null);l[39](p),c=!0,g||(o=[Y(i,"click",function(){_t("image"in l[21]?l[36]:null)&&("image"in l[21]?l[36]:null).apply(this,arguments)}),Y(e,"keydown",l[23])],g=!0)},p(k,v){l=k;const S={};v[0]&2215426|v[1]&2097152&&(S.$$scope={dirty:v,ctx:l}),n.$set(S);let G=r;if(r=y(l),r===G?d[r].p(l,v):(U(),b(d[G],1,1,()=>{d[G]=null}),N(),_=d[r],_?_.p(l,v):(_=d[r]=s[r](l),_.c()),m(_,1),_.m(i,null)),(!c||v[0]&2097152)&&O(i,"height","calc(100% - "+(l[21].caption?"80px":"60px")+")"),l[21]?.caption?w?w.p(l,v):(w=Ie(l),w.c(),w.m(e,f)):w&&(w.d(1),w=null),v[0]&303106){$=te(l[15]);let j;for(j=0;j<$.length;j+=1){const X=be(l,$,j);h[j]?(h[j].p(X,v),m(h[j],1)):(h[j]=ze(X),h[j].c(),m(h[j],1),h[j].m(p,null))}for(U(),j=$.length;j<h.length;j+=1)Z(j);N()}(!c||v[0]&8192)&&A(e,"minimal",l[13]==="minimal")},i(k){if(!c){m(n.$$.fragment,k),m(_);for(let v=0;v<$.length;v+=1)m(h[v]);c=!0}},o(k){b(n.$$.fragment,k),b(_),h=h.filter(Boolean);for(let v=0;v<h.length;v+=1)b(h[v]);c=!1},d(k){k&&T(e),z(n),d[r].d(),w&&w.d(),Re(h,k),l[39](null),g=!1,mt(o)}}}function ke(l){let e,n;return e=new le({props:{Icon:nt,label:l[11]("common.download")}}),e.$on("click",l[32]),{c(){I(e.$$.fragment)},m(t,i){E(e,t,i),n=!0},p(t,i){const r={};i[0]&2048&&(r.label=t[11]("common.download")),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function ve(l){let e,n;return e=new le({props:{Icon:l[16]?oe:_e,label:l[16]?"Exit full screen":"View in full screen"}}),e.$on("click",l[25]),{c(){I(e.$$.fragment)},m(t,i){E(e,t,i),n=!0},p(t,i){const r={};i[0]&65536&&(r.Icon=t[16]?oe:_e),i[0]&65536&&(r.label=t[16]?"Exit full screen":"View in full screen"),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function $e(l){let e,n;return e=new le({props:{Icon:oe,label:"Exit full screen"}}),e.$on("click",l[25]),{c(){I(e.$$.fragment)},m(t,i){E(e,t,i),n=!0},p:Me,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function ye(l){let e,n,t;return n=new tt({props:{i18n:l[11],value:l[15],formatter:ft}}),n.$on("share",l[33]),n.$on("error",l[34]),{c(){e=C("div"),I(n.$$.fragment),B(e,"class","icon-button")},m(i,r){D(i,e,r),E(n,e,null),t=!0},p(i,r){const _={};r[0]&2048&&(_.i18n=i[11]),r[0]&32768&&(_.value=i[15]),n.$set(_)},i(i){t||(m(n.$$.fragment,i),t=!0)},o(i){b(n.$$.fragment,i),t=!1},d(i){i&&T(e),z(n)}}}function je(l){let e,n;return e=new le({props:{Icon:lt,label:"Close"}}),e.$on("click",l[35]),{c(){I(e.$$.fragment)},m(t,i){E(e,t,i),n=!0},p:Me,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function kt(l){let e,n,t,i,r,_,a=l[10]&&ke(l),f=l[14]&&!l[16]&&ve(l),p=l[14]&&l[16]&&$e(l),c=l[9]&&ye(l),g=!l[16]&&je(l);return{c(){a&&a.c(),e=R(),f&&f.c(),n=R(),p&&p.c(),t=R(),c&&c.c(),i=R(),g&&g.c(),r=Ae()},m(o,s){a&&a.m(o,s),D(o,e,s),f&&f.m(o,s),D(o,n,s),p&&p.m(o,s),D(o,t,s),c&&c.m(o,s),D(o,i,s),g&&g.m(o,s),D(o,r,s),_=!0},p(o,s){o[10]?a?(a.p(o,s),s[0]&1024&&m(a,1)):(a=ke(o),a.c(),m(a,1),a.m(e.parentNode,e)):a&&(U(),b(a,1,1,()=>{a=null}),N()),o[14]&&!o[16]?f?(f.p(o,s),s[0]&81920&&m(f,1)):(f=ve(o),f.c(),m(f,1),f.m(n.parentNode,n)):f&&(U(),b(f,1,1,()=>{f=null}),N()),o[14]&&o[16]?p?(p.p(o,s),s[0]&81920&&m(p,1)):(p=$e(o),p.c(),m(p,1),p.m(t.parentNode,t)):p&&(U(),b(p,1,1,()=>{p=null}),N()),o[9]?c?(c.p(o,s),s[0]&512&&m(c,1)):(c=ye(o),c.c(),m(c,1),c.m(i.parentNode,i)):c&&(U(),b(c,1,1,()=>{c=null}),N()),o[16]?g&&(U(),b(g,1,1,()=>{g=null}),N()):g?(g.p(o,s),s[0]&65536&&m(g,1)):(g=je(o),g.c(),m(g,1),g.m(r.parentNode,r))},i(o){_||(m(a),m(f),m(p),m(c),m(g),_=!0)},o(o){b(a),b(f),b(p),b(c),b(g),_=!1},d(o){o&&(T(e),T(n),T(t),T(i),T(r)),a&&a.d(o),f&&f.d(o),p&&p.d(o),c&&c.d(o),g&&g.d(o)}}}function vt(l){let e,n;return e=new se({props:{src:l[21].video.url,"data-testid":"detailed-video",alt:l[21].caption||"",loading:"lazy",loop:!1,is_stream:!1,muted:!1,controls:!0}}),{c(){I(e.$$.fragment)},m(t,i){E(e,t,i),n=!0},p(t,i){const r={};i[0]&2097152&&(r.src=t[21].video.url),i[0]&2097152&&(r.alt=t[21].caption||""),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function $t(l){let e,n;return e=new fe({props:{"data-testid":"detailed-image",src:l[21].image.url,alt:l[21].caption||"",title:l[21].caption||null,class:l[21].caption&&"with-caption",loading:"lazy"}}),{c(){I(e.$$.fragment)},m(t,i){E(e,t,i),n=!0},p(t,i){const r={};i[0]&2097152&&(r.src=t[21].image.url),i[0]&2097152&&(r.alt=t[21].caption||""),i[0]&2097152&&(r.title=t[21].caption||null),i[0]&2097152&&(r.class=t[21].caption&&"with-caption"),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Ie(l){let e,n=l[21].caption+"",t;return{c(){e=C("caption"),t=Ue(n),B(e,"class","caption svelte-842rpi")},m(i,r){D(i,e,r),M(e,t)},p(i,r){r[0]&2097152&&n!==(n=i[21].caption+"")&&Ne(t,n)},d(i){i&&T(e)}}}function yt(l){let e,n,t,i;return e=new De({}),t=new se({props:{src:l[50].video.url,title:l[50].caption||null,is_stream:!1,"data-testid":"thumbnail "+(l[49]+1),alt:"",loading:"lazy",loop:!1}}),{c(){I(e.$$.fragment),n=R(),I(t.$$.fragment)},m(r,_){E(e,r,_),D(r,n,_),E(t,r,_),i=!0},p(r,_){const a={};_[0]&32768&&(a.src=r[50].video.url),_[0]&32768&&(a.title=r[50].caption||null),t.$set(a)},i(r){i||(m(e.$$.fragment,r),m(t.$$.fragment,r),i=!0)},o(r){b(e.$$.fragment,r),b(t.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(t,r)}}}function jt(l){let e,n;return e=new fe({props:{src:l[50].image.url,title:l[50].caption||null,"data-testid":"thumbnail "+(l[49]+1),alt:"",loading:"lazy"}}),{c(){I(e.$$.fragment)},m(t,i){E(e,t,i),n=!0},p(t,i){const r={};i[0]&32768&&(r.src=t[50].image.url),i[0]&32768&&(r.title=t[50].caption||null),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function ze(l){let e,n,t,i,r,_=l[49],a,f,p;const c=[jt,yt],g=[];function o(w,$){return"image"in w[50]?0:1}n=o(l),t=g[n]=c[n](l);const s=()=>l[37](e,_),d=()=>l[37](null,_);function y(){return l[38](l[49])}return{c(){e=C("button"),t.c(),i=R(),B(e,"class","thumbnail-item thumbnail-small svelte-842rpi"),B(e,"aria-label",r="Thumbnail "+(l[49]+1)+" of "+l[15].length),A(e,"selected",l[1]===l[49]&&l[13]!=="minimal")},m(w,$){D(w,e,$),g[n].m(e,null),M(e,i),s(),a=!0,f||(p=Y(e,"click",y),f=!0)},p(w,$){l=w;let h=n;n=o(l),n===h?g[n].p(l,$):(U(),b(g[h],1,1,()=>{g[h]=null}),N(),t=g[n],t?t.p(l,$):(t=g[n]=c[n](l),t.c()),m(t,1),t.m(e,i)),(!a||$[0]&32768&&r!==(r="Thumbnail "+(l[49]+1)+" of "+l[15].length))&&B(e,"aria-label",r),_!==l[49]&&(d(),_=l[49],s()),(!a||$[0]&8194)&&A(e,"selected",l[1]===l[49]&&l[13]!=="minimal")},i(w){a||(m(t),a=!0)},o(w){b(t),a=!1},d(w){w&&T(e),g[n].d(),d(),f=!1,p()}}}function Ee(l){let e,n;return e=new rt({props:{i18n:l[11]}}),e.$on("clear",l[40]),{c(){I(e.$$.fragment)},m(t,i){E(e,t,i),n=!0},p(t,i){const r={};i[0]&2048&&(r.i18n=t[11]),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function It(l){let e,n,t,i;return e=new De({}),t=new se({props:{src:l[47].video.url,title:l[47].caption||null,is_stream:!1,"data-testid":"thumbnail "+(l[49]+1),alt:"",loading:"lazy",loop:!1}}),{c(){I(e.$$.fragment),n=R(),I(t.$$.fragment)},m(r,_){E(e,r,_),D(r,n,_),E(t,r,_),i=!0},p(r,_){const a={};_[0]&32768&&(a.src=r[47].video.url),_[0]&32768&&(a.title=r[47].caption||null),t.$set(a)},i(r){i||(m(e.$$.fragment,r),m(t.$$.fragment,r),i=!0)},o(r){b(e.$$.fragment,r),b(t.$$.fragment,r),i=!1},d(r){r&&T(n),z(e,r),z(t,r)}}}function zt(l){let e,n;return e=new fe({props:{alt:l[47].caption||"",src:typeof l[47].image=="string"?l[47].image:l[47].image.url,loading:"lazy"}}),{c(){I(e.$$.fragment)},m(t,i){E(e,t,i),n=!0},p(t,i){const r={};i[0]&32768&&(r.alt=t[47].caption||""),i[0]&32768&&(r.src=typeof t[47].image=="string"?t[47].image:t[47].image.url),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Le(l){let e,n=l[47].caption+"",t;return{c(){e=C("div"),t=Ue(n),B(e,"class","caption-label svelte-842rpi")},m(i,r){D(i,e,r),M(e,t)},p(i,r){r[0]&32768&&n!==(n=i[47].caption+"")&&Ne(t,n)},d(i){i&&T(e)}}}function Be(l){let e,n,t,i,r,_,a,f,p;const c=[zt,It],g=[];function o(y,w){return"image"in y[47]?0:1}n=o(l),t=g[n]=c[n](l);let s=l[47].caption&&Le(l);function d(){return l[41](l[49])}return{c(){e=C("button"),t.c(),i=R(),s&&s.c(),r=R(),B(e,"class","thumbnail-item thumbnail-lg svelte-842rpi"),B(e,"aria-label",_="Thumbnail "+(l[49]+1)+" of "+l[15].length),A(e,"selected",l[1]===l[49])},m(y,w){D(y,e,w),g[n].m(e,null),M(e,i),s&&s.m(e,null),M(e,r),a=!0,f||(p=Y(e,"click",d),f=!0)},p(y,w){l=y;let $=n;n=o(l),n===$?g[n].p(l,w):(U(),b(g[$],1,1,()=>{g[$]=null}),N(),t=g[n],t?t.p(l,w):(t=g[n]=c[n](l),t.c()),m(t,1),t.m(e,i)),l[47].caption?s?s.p(l,w):(s=Le(l),s.c(),s.m(e,r)):s&&(s.d(1),s=null),(!a||w[0]&32768&&_!==(_="Thumbnail "+(l[49]+1)+" of "+l[15].length))&&B(e,"aria-label",_),(!a||w[0]&2)&&A(e,"selected",l[1]===l[49])},i(y){a||(m(t),a=!0)},o(y){b(t),a=!1},d(y){y&&T(e),g[n].d(),s&&s.d(),f=!1,p()}}}function Et(l){let e,n;return e=new Te({}),{c(){I(e.$$.fragment)},m(t,i){E(e,t,i),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Lt(l){let e,n,t,i,r,_,a;ut(l[31]);let f=l[2]&&de(l);const p=[wt,dt],c=[];function g(o,s){return o[0]==null||o[15]==null||o[15].length===0?0:1}return n=g(l),t=c[n]=p[n](l),{c(){f&&f.c(),e=R(),t.c(),i=Ae()},m(o,s){f&&f.m(o,s),D(o,e,s),c[n].m(o,s),D(o,i,s),r=!0,_||(a=Y(Ce,"resize",l[31]),_=!0)},p(o,s){o[2]?f?(f.p(o,s),s[0]&4&&m(f,1)):(f=de(o),f.c(),m(f,1),f.m(e.parentNode,e)):f&&(U(),b(f,1,1,()=>{f=null}),N());let d=n;n=g(o),n===d?c[n].p(o,s):(U(),b(c[d],1,1,()=>{c[d]=null}),N(),t=c[n],t?t.p(o,s):(t=c[n]=p[n](o),t.c()),m(t,1),t.m(i.parentNode,i))},i(o){r||(m(f),m(t),r=!0)},o(o){b(f),b(t),r=!1},d(o){o&&(T(e),T(i)),f&&f.d(o),c[n].d(o),_=!1,a()}}}function Bt(l,e,n){let t,i,r,{show_label:_=!0}=e,{label:a}=e,{value:f=null}=e,{columns:p=[2]}=e,{rows:c=void 0}=e,{height:g="auto"}=e,{preview:o}=e,{allow_preview:s=!0}=e,{object_fit:d="cover"}=e,{show_share_button:y=!1}=e,{show_download_button:w=!1}=e,{i18n:$}=e,{selected_index:h=null}=e,{interactive:Z}=e,{_fetch:k}=e,{mode:v="normal"}=e,{show_fullscreen_button:S=!0}=e,G=!1,j;const X=gt();let J=!0,P=null,ne=f;h==null&&o&&f?.length&&(h=0);let ie=h;function ue(u){const V=u.target,F=u.offsetX,W=V.offsetWidth/2;F<W?n(1,h=t):n(1,h=i)}function Se(u){switch(u.code){case"Escape":u.preventDefault(),n(1,h=null);break;case"ArrowLeft":u.preventDefault(),n(1,h=t);break;case"ArrowRight":u.preventDefault(),n(1,h=i);break}}let H=[],q;async function Ve(u){if(typeof u!="number"||(await bt(),H[u]===void 0))return;H[u]?.focus();const{left:V,width:F}=q.getBoundingClientRect(),{left:x,width:W}=H[u].getBoundingClientRect(),K=x-V+W/2-F/2+q.scrollLeft;q&&typeof q.scrollTo=="function"&&q.scrollTo({left:K<0?0:K,behavior:"smooth"})}let ae=0;async function ce(u,V){let F;try{F=await k(u)}catch(K){if(K instanceof TypeError){window.open(u,"_blank","noreferrer");return}throw K}const x=await F.blob(),W=URL.createObjectURL(x),ee=document.createElement("a");ee.href=W,ee.download=V,ee.click(),URL.revokeObjectURL(W)}pt(()=>{document.addEventListener("fullscreenchange",()=>{n(16,G=!!document.fullscreenElement)})});const Oe=async()=>{G?await document.exitFullscreen():await j.requestFullscreen()};function Pe(){n(20,ae=Ce.innerHeight)}const qe=()=>{const u="image"in r?r?.image:r?.video;if(u==null)return;const{url:V,orig_name:F}=u;V&&ce(V,F??"image")};function Fe(u){ge.call(this,l,u)}function Ge(u){ge.call(this,l,u)}const He=()=>n(1,h=null),We=u=>ue(u);function Xe(u,V){re[u?"unshift":"push"](()=>{H[V]=u,n(18,H)})}const Je=u=>n(1,h=u);function Ke(u){re[u?"unshift":"push"](()=>{q=u,n(19,q)})}const Qe=()=>n(0,f=[]),Ye=u=>n(1,h=u);function Ze(u){re[u?"unshift":"push"](()=>{j=u,n(17,j)})}return l.$$set=u=>{"show_label"in u&&n(2,_=u.show_label),"label"in u&&n(3,a=u.label),"value"in u&&n(0,f=u.value),"columns"in u&&n(4,p=u.columns),"rows"in u&&n(5,c=u.rows),"height"in u&&n(6,g=u.height),"preview"in u&&n(26,o=u.preview),"allow_preview"in u&&n(7,s=u.allow_preview),"object_fit"in u&&n(8,d=u.object_fit),"show_share_button"in u&&n(9,y=u.show_share_button),"show_download_button"in u&&n(10,w=u.show_download_button),"i18n"in u&&n(11,$=u.i18n),"selected_index"in u&&n(1,h=u.selected_index),"interactive"in u&&n(12,Z=u.interactive),"_fetch"in u&&n(27,k=u._fetch),"mode"in u&&n(13,v=u.mode),"show_fullscreen_button"in u&&n(14,S=u.show_fullscreen_button)},l.$$.update=()=>{l.$$.dirty[0]&268435457&&n(28,J=f==null||f.length===0?!0:J),l.$$.dirty[0]&1&&n(15,P=f==null?null:f.map(u=>"video"in u?{video:u.video,caption:u.caption}:"image"in u?{image:u.image,caption:u.caption}:{})),l.$$.dirty[0]&872415235&&(Q(ne,f)||(J?(n(1,h=o&&f?.length?0:null),n(28,J=!1)):n(1,h=h!=null&&f!=null&&h<f.length?h:null),X("change"),n(29,ne=f))),l.$$.dirty[0]&32770&&(t=((h??0)+(P?.length??0)-1)%(P?.length??0)),l.$$.dirty[0]&32770&&(i=((h??0)+1)%(P?.length??0)),l.$$.dirty[0]&1073774594&&h!==ie&&(n(30,ie=h),h!==null&&X("select",{index:h,value:P?.[h]})),l.$$.dirty[0]&130&&s&&Ve(h),l.$$.dirty[0]&32770&&n(21,r=h!=null&&P!=null?P[h]:null)},[f,h,_,a,p,c,g,s,d,y,w,$,Z,v,S,P,G,j,H,q,ae,r,ue,Se,ce,Oe,o,k,J,ne,ie,Pe,qe,Fe,Ge,He,We,Xe,Je,Ke,Qe,Ye,Ze]}class nl extends st{constructor(e){super(),ct(this,e,Bt,Lt,ht,{show_label:2,label:3,value:0,columns:4,rows:5,height:6,preview:26,allow_preview:7,object_fit:8,show_share_button:9,show_download_button:10,i18n:11,selected_index:1,interactive:12,_fetch:27,mode:13,show_fullscreen_button:14},null,[-1,-1])}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),L()}get label(){return this.$$.ctx[3]}set label(e){this.$$set({label:e}),L()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),L()}get columns(){return this.$$.ctx[4]}set columns(e){this.$$set({columns:e}),L()}get rows(){return this.$$.ctx[5]}set rows(e){this.$$set({rows:e}),L()}get height(){return this.$$.ctx[6]}set height(e){this.$$set({height:e}),L()}get preview(){return this.$$.ctx[26]}set preview(e){this.$$set({preview:e}),L()}get allow_preview(){return this.$$.ctx[7]}set allow_preview(e){this.$$set({allow_preview:e}),L()}get object_fit(){return this.$$.ctx[8]}set object_fit(e){this.$$set({object_fit:e}),L()}get show_share_button(){return this.$$.ctx[9]}set show_share_button(e){this.$$set({show_share_button:e}),L()}get show_download_button(){return this.$$.ctx[10]}set show_download_button(e){this.$$set({show_download_button:e}),L()}get i18n(){return this.$$.ctx[11]}set i18n(e){this.$$set({i18n:e}),L()}get selected_index(){return this.$$.ctx[1]}set selected_index(e){this.$$set({selected_index:e}),L()}get interactive(){return this.$$.ctx[12]}set interactive(e){this.$$set({interactive:e}),L()}get _fetch(){return this.$$.ctx[27]}set _fetch(e){this.$$set({_fetch:e}),L()}get mode(){return this.$$.ctx[13]}set mode(e){this.$$set({mode:e}),L()}get show_fullscreen_button(){return this.$$.ctx[14]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),L()}}export{nl as default};
//# sourceMappingURL=Gallery-CGzlkn3M.js.map
